# Avatar API - Python Dependencies
# Combines InfiniteTalk requirements + core utilities

# ============================================================================
# PyTorch with CUDA 12.1 support (installed via startup.sh)
# ============================================================================
# torch==2.4.1+cu121
# torchvision==0.19.1+cu121
# torchaudio==2.4.1+cu121
# xformers==0.0.28+cu121
# flash-attn==2.7.4.post1
# Installed via startup.sh with --index-url https://download.pytorch.org/whl/cu121

# ============================================================================
# InfiniteTalk Core Dependencies
# ============================================================================
opencv-python>=4.9.0.80
diffusers>=0.31.0
transformers>=4.49.0
tokenizers>=0.20.3
accelerate>=1.1.1
tqdm
imageio
easydict
ftfy
dashscope
imageio-ffmpeg
scikit-image
loguru
numpy>=1.23.5,<2
xfuser>=0.4.1
pyloudnorm
optimum-quanto==0.2.6
scenedetect
moviepy==1.0.3
decord

# ============================================================================
# Official InfiniteTalk Additional Dependencies
# ============================================================================
misaki[en]
ninja
psutil
packaging
wheel
soundfile
librosa

# Note: PyTorch 2.5.1+ required for torch.distributed.tensor.experimental
# Note: xformers 0.0.29.post1 compatible with PyTorch 2.5.1 + CUDA 12.1

# ============================================================================
# Gradio (optional - only for demo UI, can remove for API-only deployment)
# ============================================================================
gradio>=5.0.0

# ============================================================================
# Hugging Face CLI for model downloads
# ============================================================================
huggingface-hub>=0.20.0

# ============================================================================
# Core API Dependencies (for future stories)
# ============================================================================
# fastapi==0.104.1
# uvicorn[standard]==0.24.0
# pydantic==2.5.0
# python-multipart==0.0.6
# boto3==1.29.7
